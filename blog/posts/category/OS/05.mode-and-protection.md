# 이중모드, 하드웨어 보호

## 이중 모드는 왜 생겼을까?
사용자가 고의 혹은 실수로 치명적인 명령(STOP, HALT, RESET 등)을 사용하게 되면 시스템이 다운되는 경우가 생길 수 있다.  
이렇게 되면 다른 사용자들이나 프로그램들이 영향을 받게된다.  
이를 방지하기 위해

## 하드웨어 보호(Hardware protection)

### 입출력장치 보호(Input/Output device protection)
문제점 : 
해결방법 : IN/OUT 특권 명령

### 메모리 보호(Memory protection)
문제점 : 
주어진 메모리 영역을 넘어서는것을 방지하기 위함.  
다른 유저의 메모리 영역을 침범해 읽고 쓰는것을 못하게 하기 위함.  
해결방법 :
MMU(Memory Management Unit) - MMU 설정은 특권명령: 운영체제만 바꿀 수 있다.
MMU를 두어 다른 메모리 영역을 침범하는지 감시하도록 한다.  
MMU는 프로그램이 자신의 메모리 영역을 벗어난곳을 요청하면 CPU에게 이 사실을 알린다.  
그러면 CPU는 해당 프로그램을 강제종료한다.  

### CPU 보호(CPU protection)
문제점 : 
한 사용자가 실수 또는 고의로 CPU 시간을 독점하는 것을 방지.  
프로세서는 명령을 끝내고 다음 작업으로 넘어가야 하는데, 수행해야하는 명령이 무한루프 라면 끝나지 않게된다.  
그러면 다른 사용자들의 요청을 수행할 수 없게된다.

해결방법 : 타이머를 두고 일정 시간을 경과하게 되면 타이머 인터럽트(내부인터럽트)를 발생시킨다